(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{1132:function(s,a,e){"use strict";e.r(a);var t=e(1),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("最近又开始折腾了 "),e("code",[s._v("jupyter")]),s._v(" 了，因为实验室的网络环境太差，每次我使用 "),e("code",[s._v("conda")]),s._v(" 开启一个新的环境，然后下载一些新的包时会非常的慢，慢我还能忍，问题是经常下载失败，浪费我的时间😭，接着我想到我有一台腾讯云的服务器，我就想在服务器上下载 "),e("code",[s._v("jupyter")]),s._v("，然后远程访问。")]),s._v(" "),e("h2",{attrs:{id:"下载-miniconda"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-miniconda"}},[s._v("#")]),s._v(" 下载 Miniconda")]),s._v(" "),e("p",[s._v("首先需要下载 "),e("code",[s._v("Miniconda")]),s._v("，我没有下载 "),e("code",[s._v("Anaconda")]),s._v("，因为我不需要那么多的包，按需下载即可")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("如果没有 "),e("code",[s._v("wget")]),s._v(" 命令，可以通过 "),e("code",[s._v("yum -y install wget")]),s._v(" 进行下载。")])]),s._v(" "),e("p",[s._v("这里下载了一个 "),e("code",[s._v("shell")]),s._v(" 脚本，运行该脚本即可自动完成 "),e("code",[s._v("Miniconda")]),s._v(" 的下载")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x Miniconda3-latest-Linux-x86_64.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加可执行权限")]),s._v("\n./Miniconda3-latest-Linux-x86_64.sh        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行脚本")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("在下载的期间会问一些问题，回答 "),e("code",[s._v("yes")]),s._v(" 即可。")]),s._v(" "),e("p",[s._v("安装完毕之后，"),e("strong",[s._v("重新")]),s._v("进入命令行，输入")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("conda -V\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果正确输出了版本号就说明下载成功了。")]),s._v(" "),e("h2",{attrs:{id:"下载-jupyter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-jupyter"}},[s._v("#")]),s._v(" 下载 jupyter")]),s._v(" "),e("p",[s._v("下面我们新建一个环境，环境名就叫做 "),e("code",[s._v("jupyter")]),s._v(" 好了")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("conda create -n jupyter\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("然后激活环境")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("conda activate jupyter\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("接着下载 "),e("code",[s._v("jupyter")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("conda "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jupyter\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"配置密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置密码"}},[s._v("#")]),s._v(" 配置密码")]),s._v(" "),e("p",[s._v("我们要远程访问 "),e("code",[s._v("jupyter")]),s._v("，就需要配置密码来进行登录，在命令行输入 "),e("code",[s._v("ipython")]),s._v(" (下载 "),e("code",[s._v("jupyter")]),s._v(" 的时候就已经下载好了 "),e("code",[s._v("ipython")]),s._v(") 便可以进入一个 "),e("code",[s._v("python")]),s._v(" 交互式 "),e("code",[s._v("shell")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("ipython\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("依次输入下面的命令")]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" notebook"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("auth "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" passwd\npasswd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("接着便会提示你输入密码，输入密码后会给你一个密文字符串，如")]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sha1:43b95b731276:5d330ee6f6054613b3ab4cc59c5048ff7c70f549'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这个密文字符串在 "),e("code",[s._v("jupyter")]),s._v(" 的配置文件中会用到，先保存/复制下来。")]),s._v(" "),e("h2",{attrs:{id:"jupyter-配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jupyter-配置文件"}},[s._v("#")]),s._v(" jupyter 配置文件")]),s._v(" "),e("p",[s._v("接着我们便要配置 "),e("code",[s._v("jupyter")]),s._v(" 的配置文件，在命令行运行")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("jupyter notebook --generate-config\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("会生成 "),e("code",[s._v("~/.jupyter/jupyter_notebook_config.py")]),s._v(" 这个文件，我们打开编辑")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" ~/.jupyter/jupyter_notebook_config.py\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在其中添加如下配置")]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[s._v("c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("NotebookApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ip"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置远程访问 jupyter 的ip，*表示所有 ip 都可以访问")]),s._v("\nc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("NotebookApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("allow_remote_access "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许远程访问")]),s._v("\nc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("NotebookApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("password "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sha1:5df252f58b7f:bf65d53125bb36c085162b3780377f66d73972d1'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#填写刚刚生成的密文  ")]),s._v("\nc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("NotebookApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_browser "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止notebook启动时自动打开浏览器(在 linux 服务器一般都是 ssh 命令行访问，没有图形界面的。所以，启动也没啥用)  ")]),s._v("\nc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("NotebookApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("port "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定访问的端口，默认是8888")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"启动-jupyter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-jupyter"}},[s._v("#")]),s._v(" 启动 jupyter")]),s._v(" "),e("p",[s._v("下面我们就可以在命令行输入如下命令启动 "),e("code",[s._v("jupyter")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("jupyter notebook --allow-root\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这个命令启动后会在前台运行，如果我们希望 "),e("code",[s._v("jupyter")]),s._v(" 在后台运行，我们可以运行下面的命令")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" jupyter notebook --allow-root "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" jupyter.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("因为我们便可以在本机通过服务器的公网 "),e("code",[s._v("ip:8888")]),s._v(" 的方式来访问该 "),e("code",[s._v("jupyter notebook")]),s._v("。")]),s._v(" "),e("blockquote",[e("p",[s._v("PS：如果你想在服务器停止  "),e("code",[s._v("juputer")]),s._v("，首先运行")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("该命令可以显示正在运行的进程，我们找到 "),e("code",[s._v("jupyter")]),s._v(" 进程的 "),e("code",[s._v("pid")]),s._v("，然后通过")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 pid\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("来杀死 "),e("code",[s._v("jupyter")]),s._v(" 服务，即可停止 "),e("code",[s._v("jupyter")]),s._v("。")])]),s._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/47ed480daccc",target:"_blank",rel:"noopener noreferrer"}},[s._v("linux 中安装miniconda"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://fuhailin.github.io/remote-jupyter-notebook/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux上配置Jupyter Notebook远程访问"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/weixin_42561002/article/details/85382922",target:"_blank",rel:"noopener noreferrer"}},[s._v("云服务器中让jupyter后台运行的方法(三)"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);