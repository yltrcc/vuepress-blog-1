---
title: 选择器(二)
author: 熊滔
time: 2021-04-15
category: CSS
---

对于一个标签来说，他可能处于不同的状态，比如对超链接来说，它的状态有访问前、访问后等等，对于表单来说，它的状态有被选中，获得焦点，被禁用等等状态，我们希望对元素的不同状态添加不同的样式，这个时候就需要用到伪类选择器了。

## 链接伪类

当我们点击链接时，我们发现点击前后链接的样式会发生变化(例如颜色)，我们希望控制这些样式。我们使用伪类来表示标签的状态，例如对于链接来说有四种状态

- 未访问
- 触碰(鼠标放上去未点击)
- 激活状态(鼠标点击不放的过程，就处于激活状态)
- 已访问

与此相对应的伪类分别为

- `:link`
- `:hover`
- `:active`
- `:visited`

<CodeSwitcher :languages="{html: 'html', css: 'css'}">
<template v-slot:html>

```html
<div>
    <a href="http://www.bilibili.com" target="_blank">bilibili</a>
</div>
```

</template>
<template v-slot:css>

```css
a:link {
    /* 未访问时，颜色为红色 */
    color: red;
}
a:visited {
    /* 访问之后，颜色为绿色 */
    color: green;
}
a:hover {
    /* 鼠标放上去时，颜色为粉色 */
    color: pink;
}
a:active {
    /* 鼠标点击不放的过程中，颜色为蓝色 */
    color: blue;
}
```

</template>
</CodeSwitcher>

<DisplayBox>

<CSS-Demo-09></CSS-Demo-09>

</DisplayBox>

注意到上面为伪类添加样式书写的顺序为 `link visited hover active`，这可不是乱写的，要使得样式以希望的方式生效，就得以上面的顺序书写，这是因为样式的层叠导致的，具体会在层叠的章节进行解释。

> 上面的顺序我觉得不用记，原因有二：
>
> - 不记得去查就知道了
> - 后文讲述层叠的时候，对于为什么以这么个顺序写你自己可以想通，没必要记

在上述的伪类中，对于 `:hover` 伪类使用的最多，当我们将鼠标悬浮在某个元素上时，就会触发一个样式，比如给出一些提示，产生一个动画。

## 表单伪类

TODO

| 伪类     | 对应的状态           |
| -------- | -------------------- |
| :focus   | 获得焦点             |
| :disable | 表单控件被禁用       |
| :checked | 单选框或多选框被选中 |

后续在学习的过程中会陆续的接触到更多的伪类，到时候在具体讲解好了。

## 结构伪类

结构伪类可以根据 HTML 标签所处的位置来选择

```html
<div>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
</div>
```

假设我现在要选择第 2 个 `li` 标签，如果不添加类名，`id` 属性的情况下，通过已有的选择器是比较难以做到的，但是通过结构伪类选择器可以轻松的做到

```css
li:nth-child(2) {
    color: red;
}
```

<DisplayBox>

<CSS-Demo-10></CSS-Demo-10>

</DisplayBox>

`li:nth-child(2)` 伪类首先会找出 `li` 父标签下的所有子标签，然后为第二个子标签添加样式。

`:nth-child` 的标准语法为 `:nth-child(an + b)`，例如 `:nth-child(n + 2)`，n 从 0 开始计数，所以 `n + 2` 会得到 (2, 3, 4, 5)，因此除了第一个标签不会被选中，其他的标签都会被选中。

<CodeSwitcher :languages="{html: 'html', css: 'css'}">
<template v-slot:html>

```html
<div>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
</div>
```

</template>
<template v-slot:css>

```css
li:nth-child(n + 2) {
    color: red;
}
```

</template>
</CodeSwitcher>


<DisplayBox>

<CSS-Demo-11></CSS-Demo-11>

</DisplayBox>

接着来看几个例子

```css
/* 选择位置在偶数上的标签 */
:nth-child(2n) {
    
}
/* 选择位置在奇数上的标签 */
:nth-child(2n + 1) {
    
}
/* 选择前三个标签 */
:nth-child(-n + 3) {
    
}
/* 跳过前 4 个标签 */
:nth-child(n + 5) {
    
}
```

与 `:nth-child` 相对的是 `:nth-last-child`，`:nth-last-child` 表示倒着数，例如 `nth-last-child(1)` 表示选择倒数第一个标签，看几个例子

```css
/* 跳过最后一个标签 */
:nth-last-child(n + 2) {
    
}
/* 选择最后三个标签 */
:nth-last-child(-n + 3) {
    
}
```

事件还没有结束，给出如下 `html` 标签

```html
<div>
    <div>d1</div>
    <p>p1</p>
    <p>p2</p>
    <div>d2</div>
    <p>p3</p>
    <p>p4</p>
</div>
```

如果希望选择所有 `p` 标签里面的第三个 `p` 标签，这个时候如果通过 `:nth-child` 来实现就比较麻烦，可能就需要去数第三个 `p` 标签在哪个位置，但是如果 `HTML` 的结构一旦发生改变，还得重新数。通过 `:nth-of-type` 可以轻松的选择

```css
p:nth-of-type(3) {
    coloe: red;
}
```

`p:nth-of-type(3)` 首先会找出 `p` 的父标签下的所有标签为 `p` 的子标签，然后选择第三个子标签。与 `nth-child` 不同的是这里规定了类型。

<DisplayBox>

<CSS-Demo-12></CSS-Demo-12>

</DisplayBox>

`:nth-last-of-type` 则表示倒着数，具体在 `:nth-last-child` 有过介绍，不再详述。

<Disqus />